<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopZari</title>
</head>
<body>
    <form id="waitlistForm">
        <input 
            type="email" 
            id="emailInput"
            placeholder="Enter your email"
            required
        >
        <button type="submit">Join Waitlist</button>
        <div id="message"></div>
    </form>

    <script>
        document.getElementById('waitlistForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('emailInput').value;
            const messageDiv = document.getElementById('message');
            
            fetch('https://ttoszckfryqufdcrxzej.supabase.co/rest/v1/waitlist', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0b3N6Y2tmcnlxdWZkY3J4emVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzOTc4NTMsImV4cCI6MjA1MDk3Mzg1M30.OSIRZP_0rkFTTrZnqAZ9lDGcvJhBONlHVyrzHSMeT_4'
                },
                body: JSON.stringify({ email })
            })
            .then(response => {
                if (response.ok) {
                    messageDiv.textContent = 'Thanks for joining!';
                    document.getElementById('emailInput').value = '';
                } else {
                    messageDiv.textContent = 'Error submitting email.';
                }
            })
            .catch(error => {
                messageDiv.textContent = 'Error submitting email.';
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
